@model PAW3.Models.DTOs.UserDTO
@{
    ViewData["Title"] = "Crear Usuario";
}
<div class="container mt-4">
    <h2 class="mb-3">Crear nuevo usuario</h2>

    <form asp-controller="User" asp-action="Create" method="post" class="needs-validation" novalidate>
        @Html.AntiForgeryToken()

        <div class="mb-3">
            <label for="Username" class="form-label">Username</label>
            <input asp-for="Username" class="form-control" id="Username" required maxlength="255" />
            <span asp-validation-for="Username" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label for="Email" class="form-label">Email</label>
            <input asp-for="Email" type="email" class="form-control" id="Email" maxlength="255" />
        </div>

        <div class="mb-3">
            <label for="PasswordHash" class="form-label">Password</label>
            <input asp-for="PasswordHash" type="password" class="form-control" id="PasswordHash" />
        </div>

        <!-- 🔹 Checkbox manual para IsActive -->
        <div class="mb-3 form-check">
            <input type="hidden" name="IsActive" value="false" />
            <input class="form-check-input"
                   id="IsActive"
                   name="IsActive"
                   type="checkbox"
                   value="true"
                   @(Model?.IsActive == true ? "checked" : "") />
            <label for="IsActive" class="form-check-label">Activo</label>
        </div>

        <div class="mb-3">
            <label for="RoleId" class="form-label">Role Id</label>
            <input asp-for="RoleId" type="number" class="form-control" id="RoleId" />
        </div>

        <div class="mb-3">
            <label for="CreatedAt" class="form-label">Created At</label>
            <input asp-for="CreatedAt" type="datetime-local" class="form-control" id="CreatedAt"
                   value="@(((Model.CreatedAt ?? DateTime.UtcNow).ToString("yyyy-MM-ddTHH\\:mm")))" />
        </div>

        <div class="mb-3">
            <label for="LastModified" class="form-label">Last Modified</label>
            <input asp-for="LastModified" type="datetime-local" class="form-control" id="LastModified"
                   value="@(((Model.LastModified ?? DateTime.UtcNow).ToString("yyyy-MM-ddTHH\\:mm")))" />
        </div>

        <div class="mb-3">
            <label for="ModifiedBy" class="form-label">Modificado por</label>
            <input asp-for="ModifiedBy" class="form-control" id="ModifiedBy" value="Andrey" />
        </div>

        <div class="d-flex justify-content-end gap-2">
            <a class="btn btn-secondary" asp-controller="User" asp-action="Index">Cancelar</a>
            <button type="submit" class="btn btn-success">Crear Usuario</button>
        </div>
    </form>
</div>
@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}